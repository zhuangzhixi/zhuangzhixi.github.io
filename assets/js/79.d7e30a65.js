(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{592:function(s,n,a){"use strict";a.r(n);var e=a(14),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("###今日目标\n1.完成参数管理\n2.推送代码到码云\n3.制作商品列表页面\n4.制作商品添加页面")]),s._v(" "),n("p",[s._v("###1.参数管理\n####A.展示动态参数可选项\n动态参数可选项展示及操作\n在获取动态参数的方法中进行处理。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//将获取到的数据中的attr_vals字符串转换为数组\nres.data.forEach(item => {\n  item.attr_vals = item.attr_vals ? item.attr_vals.split(\' \') : []\n  //添加一个bool值控制文本框的显示或者隐藏\n  item.inputVisible = false\n  //添加一个inputValue保存文本框值\n  item.inputValue = \'\'\n})\n\n//然后再修改展开行中的代码，生成el-tag和文本框以及添加按钮\n\x3c!-- 展开行 --\x3e\n<el-table-column type="expand">\n  <template slot-scope="scope">\n    \x3c!-- 循环生成的el-tag --\x3e\n    <el-tag v-for="(item,i) in scope.row.attr_vals" :key="i" closable>{{item}}</el-tag>\n    \x3c!-- 输入框 --\x3e\n    <el-input class="input-new-tag" v-if="scope.row.inputVisible" v-model="scope.row.inputValue" ref="saveTagInput" size="small" @keyup.enter.native="handleInputConfirm(scope.row)" @blur="handleInputConfirm(scope.row)">\n    </el-input>\n    \x3c!-- 添加按钮 --\x3e\n    <el-button v-else class="button-new-tag" size="small" @click="showInput(scope.row)">+ New Tag</el-button>\n  </template>\n</el-table-column>\n\n\n//最后对应文本框的事件和按钮的事件添加处理函数\nhandleInputConfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputValue.trim().length===0){\n    row.inputValue = \'\'\n    row.inputVisible = false\n    return\n  }\n\n  // row.inputVisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n},\nshowInput(row){\n  //用户点击添加按钮时触发\n  row.inputVisible = true\n  //$nextTick:在页面上元素被重新渲染之后，调用回调函数的代码\n  this.$nextTick(_=>{\n    //让文本框自动获得焦点\n    this.$refs.saveTagInput.$refs.input.focus()\n  })\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br")])]),n("p",[s._v("####B.添加/删除可选项\n添加/删除动态参数可选项")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("给el-tag添加删除事件\n<el-tag v-for=\"(item,i) in scope.row.attr_vals\" :key=\"i\" closable @close=\"handleClose(i,scope.row)\">{{item}}</el-tag>\n\n在methods中添加新增，删除事件处理函数\nhandleInputConfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputValue.trim().length===0){\n    row.inputValue = ''\n    row.inputVisible = false\n    return\n  }\n\n  // row.inputVisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n  row.attr_vals.push(row.inputValue.trim())\n  row.inputValue = ''\n  row.inputVisible = false\n\n  this.saveAttrVals(row)\n},\nhandleClose(index,row){\n  //删除对应索引的参数可选项\n  row.attr_vals.splice(index,1)\n  //调用函数，完成保存可选项的操作\n  this.saveAttrVals(row)\n},\nasync saveAttrVals(row){\n  //封装函数，完成保存可选项的操作\n  //发起请求，保存参数细项\n  const {data:res} = await this.$http.put(`categories/${this.cateId}/attributes/${row.attr_id}`,\n  {attr_name:row.attr_name,attr_sel:row.attr_sel,attr_vals:row.attr_vals.join(' ')})\n\n  if (res.meta.status !== 200) {\n    return this.$message.error('修改参数项失败')\n  }\n\n  this.$message.success('修改参数项成功')\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("p",[s._v("补充：当用户在级联选择框中选中了非三级分类时，需要清空表格中数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async handleChange() {\n      //如果用户选择的不是三级分类\n      if(this.selectedCateKeys.length !== 3){\n        this.selectedCateKeys = []\n        this.manyTableData = []\n        this.onlyTableData = []\n        return\n      }\n      ......\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("补充2：当完成了动态参数可选项的功能之后，我们也需要一样的方式完成静态属性可选项的功能。")]),s._v(" "),n("p",[s._v("此时我们只需要将动态参数可选项中的展开行复制到静态属性的表格中即可")]),s._v(" "),n("p",[s._v("###2.推送代码到码云\n添加到暂存求： git add .\n提交到本地仓库：  git commit -m '完成了分类参数开发'\n推送到码云：  git push\n切换到master ： git checkout master\n合并到master ： git merge goods_params")]),s._v(" "),n("p",[s._v("创建子分支\ngit checkout -b goods_list\n推送至码云 git push -u origin goods_list")]),s._v(" "),n("p",[s._v("###3.商品列表\n####A.制作商品列表基本结构\n添加子级路由组件以及对应的规则,并设置组件的基本机构\n打开router.js,添加下面的代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import GoodList from \'./components/goods/List.vue\'\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  }\n]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("打开List.vue组件，添加下列代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div>\n        <h3>商品列表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            <el-row :gutter="20">\n                <el-col :span="8">\n                    <el-input placeholder="请输入内容">\n                        <el-button slot="append" icon="el-icon-search"></el-button>\n                    </el-input>\n                </el-col>\n                <el-col :span="4">\n                    <el-button type="primary">添加商品</el-button>\n                </el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {}\n  },\n  created() {},\n  methods: {}\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("p",[s._v("####B.数据展示\n添加数据表格展示数据以及分页功能的实现,搜索功能的实现\n在main.js中添加过滤器：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//创建过滤器将秒数过滤为年月日，时分秒\nVue.filter('dateFormat',function(originVal){\n  const dt = new Date(originVal)\n  const y = dt.getFullYear()\n  const m = (dt.getMonth()+1+'').padStart(2,'0')\n  const d = (dt.getDate()+'').padStart(2,'0')\n\n  const hh = (dt.getHours()+'').padStart(2,'0')\n  const mm = (dt.getMinutes()+'').padStart(2,'0')\n  const ss = (dt.getSeconds()+'').padStart(2,'0')\n\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 卡片视图区域 --\x3e\n<el-card>\n    \x3c!-- 搜索栏 --\x3e\n    <el-row :gutter="20">\n        <el-col :span="8">\n            <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable @clear="getGoodsList">\n                <el-button slot="append" icon="el-icon-search" @click="getGoodsList"></el-button>\n            </el-input>\n        </el-col>\n        <el-col :span="4">\n            <el-button type="primary">添加商品</el-button>\n        </el-col>\n    </el-row>\n\n    \x3c!-- 表格区域 --\x3e\n    <el-table :data="goodsList" border stripe>\n        <el-table-column type="index"></el-table-column>\n        <el-table-column label="商品名称" prop="goods_name"></el-table-column>\n        <el-table-column label="商品价格(元)" prop="goods_price" width="95px"></el-table-column>\n        <el-table-column label="商品重量" prop="goods_weight" width="95px"></el-table-column>\n        <el-table-column label="创建时间" prop="add_time" width="140px">\n            <template slot-scope="scope">\n                {{scope.row.add_time | dateFormat}}\n            </template>\n        </el-table-column>\n        <el-table-column label="操作" width="125px">\n            <template slot-scope="scope">\n                <el-button size="mini" type="primary" icon="el-icon-edit"></el-button>\n                <el-button size="mini" type="danger" icon="el-icon-delete"></el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n\n    \x3c!-- 分页 --\x3e\n    <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n    </el-pagination>\n</el-card>\n\n//绑定数据以及添加方法\n<script>\nexport default {\n  data() {\n    return {\n      //查询参数\n      queryInfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 10\n      },\n      //保存商品列表信息\n      goodsList: [],\n      //总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getGoodsList()\n  },\n  methods: {\n    async getGoodsList() {\n      //   根据分页获取对应的商品列表\n      const { data: res } = await this.$http.get(\'goods\', {\n        params: this.queryInfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品列表失败\')\n      }\n      console.log(res.data)\n      this.$message.success(\'获取商品列表成功\')\n      this.goodsList = res.data.goods\n      this.total = res.data.total\n    },\n    handleSizeChange(newSize){\n        //当页号发生改变时，更改pagesize，重新请求\n        this.queryInfo.pagesize = newSize\n        this.getGoodsList();\n    },\n    handleCurrentChange(newPage){\n        //当页码发生改变时，更改pagesize，重新请求\n        this.queryInfo.pagenum = newPage\n        this.getGoodsList();\n    }\n  }\n}\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br")])]),n("p",[s._v("####C.实现删除商品")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//绑定按钮点击事件\n<el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removeGoods(scope.row.goods_id)\"></el-button>\n\n//事件函数代码编写\nasync removeGoods(goods_id) {\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmResult = await this.$confirm(\n    '请问是否要删除该商品',\n    '删除提示',\n    {\n      confirmButtonText: '确认删除',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmResult 为'confirm'\n  //如果用户点击取消, 则confirmResult获取的就是catch的错误消息'cancel'\n  if (confirmResult != 'confirm') {\n    return this.$message.info('已经取消删除')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`goods/${goods_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error('删除商品失败')\n  }\n\n  this.$message.success('删除商品成功')\n  this.getGoodsList()\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("p",[s._v("###4.添加商品\n####A.添加编程式导航\n在List.vue中添加编程式导航，并创建添加商品路由组件及规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//在List.vue中添加编程式导航\n<el-col :span="4">\n    <el-button type="primary" @click="goAddPage">添加商品</el-button>\n</el-col>\n\ngoAddPage(){\n    this.$router.push(\'/goods/add\')\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("在router.js中引入goods/Add.vue,并添加路由规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import GoodAdd from \'./components/goods/Add.vue\'\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  },\n  { path: "/goods/add", component: GoodAdd  }\n]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("####B.布局Add.vue组件\n布局过程中需要使用Steps组件，在element.js中引入并注册该组件，并在global.css中给组件设置全局样式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import {Steps,Step} from 'element-ui'\nVue.use(Step)\nVue.use(Steps)\n\n//global.css\n.el-steps{\n    margin:15px 0;\n}\n.el-step__title{\n    font-size: 13px;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("然后再在Add.vue中进行页面布局")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div>\n        <h3>添加商品</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>添加商品</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 消息提示 --\x3e\n            <el-alert title="添加商品信息" type="info" center show-icon :closable="false">\n            </el-alert>\n\n            \x3c!-- 步骤条组件 --\x3e\n            \x3c!-- align-center(居中效果) --\x3e\n            <el-steps :space="200" :active="activeIndex - 0" finish-status="success" align-center>\n                <el-step title="基本信息"></el-step>\n                <el-step title="商品参数"></el-step>\n                <el-step title="商品属性"></el-step>\n                <el-step title="商品图片"></el-step>\n                <el-step title="商品内容"></el-step>\n                <el-step title="完成"></el-step>\n            </el-steps>\n\n            \x3c!-- tab栏区域:el-tab-pane必须是el-tabs的子节点\n            :tab-position="\'left\'"(设置tab栏为左右结构tab栏) --\x3e\n            \x3c!-- 表单：label-position="top"(设置label在文本框上方) --\x3e\n            <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="100px" label-position="top">\n                <el-tabs v-model="activeIndex" :tab-position="\'left\'">\n                    <el-tab-pane label="基本信息" name="0">\n                        <el-form-item label="商品名称" prop="goods_name">\n                            <el-input v-model="addForm.goods_name"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品价格" prop="goods_price">\n                            <el-input v-model="addForm.goods_price" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品重量" prop="goods_weight">\n                            <el-input v-model="addForm.goods_weight" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品数量" prop="goods_number">\n                            <el-input v-model="addForm.goods_number" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品分类" prop="goods_cat">\n                            \x3c!-- 选择商品分类的级联选择框 --\x3e\n                            <el-cascader expandTrigger=\'hover\' v-model="addForm.goods_cat" :options="cateList" :props="cateProps" @change="handleChange" clearable></el-cascader>\n                        </el-form-item>\n                    </el-tab-pane>\n                    <el-tab-pane label="商品参数" name="1">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品属性" name="2">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品图片" name="3">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品内容" name="4">\n\n                    </el-tab-pane>\n                </el-tabs>\n            </el-form>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //保存步骤条激活项索引\n      activeIndex: \'0\',\n      //添加商品的表单数据对象\n      addForm: {\n        goods_name: \'\',\n        goods_price: 0,\n        goods_weight: 0,\n        goods_number: 0,\n        goods_cat:[]\n      },\n      //验证规则\n      addFormRules: {\n        goods_name: [\n          { required: true, message: \'请输入商品名称\', trigger: \'blur\' }\n        ],\n        goods_price: [\n          { required: true, message: \'请输入商品价格\', trigger: \'blur\' }\n        ],\n        goods_weight: [\n          { required: true, message: \'请输入商品重量\', trigger: \'blur\' }\n        ],\n        goods_number: [\n          { required: true, message: \'请输入商品数量\', trigger: \'blur\' }\n        ],\n        goods_cat: [\n          { required: true, message: \'请选择商品分类\', trigger: \'blur\' }\n        ]\n      },\n      //用来保存分类数据\n      cateList: [],\n      //配置级联菜单中数据如何展示\n      cateProps: {\n        value: \'cat_id\',\n        label: \'cat_name\',\n        children: \'children\'\n      }\n    }\n  },\n  created() {\n    this.getCateList()\n  },\n  methods: {\n    async getCateList() {\n      const { data: res } = await this.$http.get(\'categories\')\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品分类数据失败\')\n      }\n      this.cateList = res.data\n    },\n    handleChange(){\n      //如果用户选择的不是三级分类,该次选择无效，因为必须选择三级分类\n      if(this.addForm.goods_cat.length !== 3){\n        this.addForm.goods_cat = []\n        return\n      }\n    }\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br")])]),n("p",[s._v("####C.添加tab栏切换验证\n也就是说不输入某些内容，无法切换到别的tab栏")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//首先给tabs添加tab切换前事件\n<el-tabs v-model=\"activeIndex\" :tab-position=\"'left'\" :before-leave=\"beforeTabLeave\">\n......\n</el-tabs>\n\n//再到methods编写事件函数beforeTabLeave\nbeforeTabLeave(activeName,oldActiveName){\n  //在tab栏切换之前触发，两个形参为切换前，后的tab栏name\n  if(oldActiveName === '0'){\n      //在第一个标签页的时候\n      if(this.addForm.goods_cat.length !== 3){\n          this.$message.error('请选择商品的分类')\n          return false\n      }else if(this.addForm.goods_name.trim() === ''){\n          this.$message.error('请输入商品名称')\n          return false\n      }else if(this.addForm.goods_price.trim() === '0'){\n          this.$message.error('请输入商品价格')\n          return false\n      }else if(this.addForm.goods_weight.trim() === '0'){\n          this.$message.error('请输入商品重量')\n          return false\n      }else if(this.addForm.goods_number.trim() === '0'){\n          this.$message.error('请输入商品数量')\n          return false\n      }\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("####D.展示信息\n展示商品参数信息,商品属性信息\n在商品参数信息展示中使用的el-checkbox,el-checkbox-group组件，打开element.js引入组件并注册组件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//在用户点击tab栏时触发事件\n<el-tabs v-model="activeIndex" :tab-position="\'left\'" :before-leave="beforeTabLeave" @tab-click="tabClicked">\n........\n\n//在参数信息，商品属性面板中添加循环生成结构的代码\n<el-tab-pane label="商品参数" name="1">\n  \x3c!-- 渲染表单item项 --\x3e\n  <el-form-item :label="item.attr_name" :key="item.attr_id" v-for="item in manyTableData">\n      \x3c!-- 使用数组渲染复选框组 --\x3e\n      <el-checkbox-group v-model="item.attr_vals">\n          <el-checkbox border :label="val" v-for="(val,i) in item.attr_vals" :key="i"></el-checkbox>\n      </el-checkbox-group>\n  </el-form-item>\n</el-tab-pane>\n<el-tab-pane label="商品属性" name="2">\n  \x3c!-- 循环生成静态属性 --\x3e\n  <el-form-item :label="item.attr_name" v-for="item in onlyTableData" :key="item.attr_id">\n      <el-input v-model="item.attr_vals"></el-input>\n  </el-form-item>\n</el-tab-pane>\n\n//在data数据中添加保存动态参数和静态属性的数组\nexport default {\n  data() {\n    return {\n      ......\n      //动态参数列表\n      manyTableData: [],\n      //静态属性列表\n      onlyTableData:[]\n      }\n  },methods: {\n    .......\n    async tabClicked() {\n      //当用户点击切换tab栏时触发\n      if (this.activeIndex === \'1\') {\n        //发送请求获取动态参数\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          { params: { sel: \'many\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取动态参数列表失败\')\n        }\n        //将attr_vals字符串转换为数组\n        res.data.forEach(item => {\n          item.attr_vals =\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\' \')\n        })\n        this.manyTableData = res.data\n      } else if (this.activeIndex === \'2\') {\n        //发送请求获取静态属性\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          { params: { sel: \'only\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取静态属性列表失败\')\n        }\n\n        this.onlyTableData = res.data\n      }\n    }\n  },\n  //添加 计算属性获取三级分类\n  computed: {\n    cateId() {\n      if (this.addForm.goods_cat.length === 3) {\n        return this.addForm.goods_cat[2]\n      }\n      return null\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);