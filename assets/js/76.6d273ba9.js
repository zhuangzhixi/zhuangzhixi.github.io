(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{587:function(s,n,e){"use strict";e.r(n);var a=e(14),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("###今日目标\n1.实现后台首页的基本布局\n2.实现左侧菜单栏\n3.实现用户列表展示\n4.实现添加用户")]),s._v(" "),n("p",[s._v("###1.后台首页基本布局\n打开Home.vue组件，进行布局：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<el-container class="home-container">\n  \x3c!-- 头部区域 --\x3e\n  <el-header>Header<el-button type="info" @click="logout"> 退出 </el-button></el-header>\n  \x3c!-- 页面主体区域 --\x3e\n  <el-container>\n    \x3c!-- 侧边栏 --\x3e\n    <el-aside width="200px">Aside</el-aside>\n    \x3c!-- 主体结构 --\x3e\n    <el-main>Main</el-main>\n  </el-container>\n</el-container>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("默认情况下，跟element-ui组件同名的类名可以帮助我们快速的给对应的组件添加样式，如：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(".home-container {\n  height: 100%;\n}\n.el-header{\n  background-color:#373D41;\n}\n.el-aside{\n  background-color:#333744;\n}\n.el-main{\n  background-color:#eaedf1;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("###2.顶部布局，侧边栏布局")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <el-container class="home-container">\n      \x3c!-- 头部区域 --\x3e\n      <el-header>\n        <div>\n          \x3c!-- 黑马logo --\x3e\n          <img src="../assets/heima.png" alt="">\n          \x3c!-- 顶部标题 --\x3e\n          <span>电商后台管理系统</span>\n        </div>\n        <el-button type="info" @click="logout"> 退出 </el-button>\n      </el-header>\n      \x3c!-- 页面主体区域 --\x3e\n      <el-container>\n        \x3c!-- 侧边栏 --\x3e\n        <el-aside width="200px">\n          \x3c!-- 侧边栏菜单 --\x3e\n          <el-menu\n            background-color="#333744"\n            text-color="#fff"\n            active-text-color="#ffd04b">\n            \x3c!-- 一级菜单 --\x3e\n            <el-submenu index="1">\n              \x3c!-- 一级菜单模板 --\x3e\n              <template slot="title">\n                \x3c!-- 图标 --\x3e\n                <i class="el-icon-location"></i>\n                \x3c!-- 文本 --\x3e\n                <span>导航一</span>\n              </template>\n              \x3c!-- 二级子菜单 --\x3e\n              <el-menu-item index="1-4-1">\n                \x3c!-- 二级菜单模板 --\x3e\n                <template slot="title">\n                  \x3c!-- 图标 --\x3e\n                  <i class="el-icon-location"></i>\n                  \x3c!-- 文本 --\x3e\n                  <span>子菜单一</span>\n                </template>\n              </el-menu-item>\n            </el-submenu>\n            \n          </el-menu>\n        </el-aside>\n        \x3c!-- 主体结构 --\x3e\n        <el-main>Main</el-main>\n      </el-container>\n    </el-container>\n</template>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br")])]),n("p",[s._v("###3.axios请求拦截器\n后台除了登录接口之外，都需要token权限验证，我们可以通过添加axios请求拦截器来添加token，以保证拥有获取数据的权限\n在main.js中添加代码，在将axios挂载到vue原型之前添加下面的代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config=>{\n  //为请求头对象，添加token验证的Authorization字段\n  config.headers.Authorization = window.sessionStorage.getItem("token")\n  return config\n})\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("###4.请求侧边栏数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<script>\nexport default {\n  data() {\n    return {\n      // 左侧菜单数据\n      menuList: null\n    }\n  },\n  created() {\n    // 在created阶段请求左侧菜单数据\n    this.getMenuList()\n  },\n  methods: {\n    logout() {\n      window.sessionStorage.clear()\n      this.$router.push('/login')\n    },\n    async getMenuList() {\n      // 发送请求获取左侧菜单数据\n      const { data: res } = await this.$http.get('menus')\n      if (res.meta.status !== 200) return this.$message.error(res.meta.msg)\n\n      this.menuList = res.data\n      console.log(res)\n    }\n  }\n}\n<\/script>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("通过v-for双重循环渲染左侧菜单")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<el-menu\n  background-color="#333744"\n  text-color="#fff"\n  active-text-color="#ffd04b">\n  \x3c!-- 一级菜单 --\x3e\n  <el-submenu :index="item.id+\'\'" v-for="item in menuList" :key="item.id">\n    \x3c!-- 一级菜单模板 --\x3e\n    <template slot="title">\n      \x3c!-- 图标 --\x3e\n      <i class="el-icon-location"></i>\n      \x3c!-- 文本 --\x3e\n      <span>{{item.authName}}</span>\n    </template>\n    \x3c!-- 二级子菜单 --\x3e\n    <el-menu-item :index="subItem.id+\'\'" v-for="subItem in item.children" :key="subItem.id">\n      \x3c!-- 二级菜单模板 --\x3e\n      <template slot="title">\n        \x3c!-- 图标 --\x3e\n        <i class="el-icon-location"></i>\n        \x3c!-- 文本 --\x3e\n        <span>{{subItem.authName}}</span>\n      </template>\n    </el-menu-item>\n  </el-submenu>\n</el-menu>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[s._v("###5.设置激活子菜单样式\n通过更改el-menu的active-text-color属性可以设置侧边栏菜单中点击的激活项的文字颜色\n通过更改菜单项模板（template）中的i标签的类名，可以将左侧菜单栏的图标进行设置，我们需要在项目中使用第三方字体图标\n在数据中添加一个iconsObj：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("iconsObj: {\n        '125':'iconfont icon-user',\n        '103':'iconfont icon-tijikongjian',\n        '101':'iconfont icon-shangpin',\n        '102':'iconfont icon-danju',\n        '145':'iconfont icon-baobiao'\n      }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("然后将图标类名进行数据绑定，绑定iconsObj中的数据：")]),s._v(" "),n("p",[s._v('为了保持左侧菜单每次只能打开一个，显示其中的子菜单，我们可以在el-menu中添加一个属性unique-opened\n或者也可以数据绑定进行设置(此时true认为是一个bool值，而不是字符串) :unique-opened="true"')]),s._v(" "),n("p",[s._v("###6.制作侧边菜单栏的伸缩功能\n在菜单栏上方添加一个div")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('        \x3c!-- 侧边栏,宽度根据是否折叠进行设置 --\x3e\n        <el-aside :width="isCollapse ? \'64px\':\'200px\'">\n          \x3c!-- 伸缩侧边栏按钮 --\x3e\n          <div class="toggle-button" @click="toggleCollapse">|||</div>\n          \x3c!-- 侧边栏菜单，:collapse="isCollapse"（设置折叠菜单为绑定的 isCollapse 值），:collapse-transition="false"（关闭默认的折叠动画） --\x3e\n          <el-menu\n          :collapse="isCollapse"\n          :collapse-transition="false"\n          ......\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("然后给div添加样式，给div添加事件：\n<div class=\"toggle-button\" @click=\"this.isCollapse ? '64px':'200px'\">|||")]),s._v(" "),n("p",[s._v("###7.在后台首页添加子级路由\n新增子级路由组件Welcome.vue\n在router.js中导入子级路由组件，并设置路由规则以及子级路由的默认重定向\n打开Home.vue，在main的主体结构中添加一个路由占位符")]),s._v(" "),n("p",[s._v("制作好了Welcome子级路由之后，我们需要将所有的侧边栏二级菜单都改造成子级路由链接\n我们只需要将el-menu的router属性设置为true就可以了，此时当我们点击二级菜单的时候，就会根据菜单的index\n属性进行路由跳转,如: /110,\n使用index id来作为跳转的路径不合适，我们可以重新绑定index的值为  :index=\"'/'+subItem.path\"")]),s._v(" "),n("p",[s._v("###8.完成用户列表主体区域\n新建用户列表组件  user/Users.vue\n在router.js中导入子级路由组件Users.vue，并设置路由规则")]),s._v(" "),n("p",[s._v('当点击二级菜单的时候，被点击的二级子菜单并没有高亮，我们需要正在被使用的功能高亮显示\n我们可以通过设置el-menu的default-active属性来设置当前激活菜单的index\n但是default-active属性也不能写死，固定为某个菜单值\n所以我们可以先给所有的二级菜单添加点击事件,并将path值作为方法的参数\n@click="saveNavState(\'/\'+subItem.path)"\n在saveNavState方法中将path保存到sessionStorage中\nsaveNavState( path ){\n//点击二级菜单的时候保存被点击的二级菜单信息\nwindow.sessionStorage.setItem("activePath",path);\nthis.activePath = path;\n}\n然后在数据中添加一个activePath绑定数据，并将el-menu的default-active属性设置为activePath\n最后在created中将sessionStorage中的数据赋值给activePath\nthis.activePath = window.sessionStorage.getItem("activePath")')]),s._v(" "),n("p",[s._v("###9.绘制用户列表基本结构\nA.使用element-ui面包屑组件完成顶部导航路径(复制面包屑代码，在element.js中导入组件Breadcrumb,BreadcrumbItem)\nB.使用element-ui卡片组件完成主体表格(复制卡片组件代码，在element.js中导入组件Card)，再使用element-ui输入框完成搜索框及搜索按钮，\n此时我们需要使用栅格布局来划分结构(复制卡片组件代码，在element.js中导入组件Row，Col)，然后再使用el-button制作添加用户按钮")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<div>\n    <h3>用户列表组件</h3>\n    \x3c!-- 面包屑导航 --\x3e\n    <el-breadcrumb separator="/">\n        <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n        <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    \x3c!-- 卡片视图区域 --\x3e\n    <el-card>\n        \x3c!-- 搜索与添加区域 --\x3e\n        <el-row :gutter="20">\n            <el-col :span="7">\n                <el-input placeholder="请输入内容">\n                    <el-button slot="append" icon="el-icon-search"></el-button>\n                </el-input> \n            </el-col>\n            <el-col :span="4">\n                <el-button type="primary">添加用户</el-button>\n            </el-col>\n        </el-row> \n    </el-card>\n</div>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("###10.请求用户列表数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<script>\nexport default {\n  data() {\n    return {\n      //获取查询用户信息的参数\n      queryInfo: {\n        query: '',\n        pagenum: 1,\n        pagesize: 2\n      },\n      //保存请求回来的用户列表数据\n      userList:[],\n      total:0\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  methods: {\n    async getUserList() {\n      //发送请求获取用户列表数据\n      const { res: data } = await this.$http.get('users', {\n        params: this.queryInfo\n      })\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200)\n        return this.$message.error('获取用户列表失败')\n      //如果返回状态正常，将请求的数据保存在data中\n      this.userList = res.data.users;\n      this.total = res.data.total;\n    }\n  }\n}\n<\/script>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("p",[s._v("###11.将用户列表数据展示\n使用表格来展示用户列表数据，使用element-ui表格组件完成列表展示数据(复制表格代码，在element.js中导入组件Table,TableColumn)\n在渲染展示状态时，会使用作用域插槽获取每一行的数据\n再使用switch开关组件展示状态信息(复制开关组件代码，在element.js中导入组件Switch)\n而渲染操作列时，也是使用作用域插槽来进行渲染的，\n在操作列中包含了修改，删除，分配角色按钮，当我们把鼠标放到分配角色按钮上时\n希望能有一些文字提示，此时我们需要使用文字提示组件(复制文字提示组件代码，在element.js中导入组件Tooltip),将分配角色按钮包含\n代码结构如下：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 用户列表(表格)区域 --\x3e\n<el-table :data="userList" border stripe>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="姓名" prop="username"></el-table-column>\n    <el-table-column label="邮箱" prop="email"></el-table-column>\n    <el-table-column label="电话" prop="mobile"></el-table-column>\n    <el-table-column label="角色" prop="role_name"></el-table-column>\n    <el-table-column label="状态">\n        <template slot-scope="scope">\n            <el-switch v-model="scope.row.mg_state"></el-switch>\n        </template>\n    </el-table-column>\n    <el-table-column label="操作" width="180px">\n        <template slot-scope="scope">\n            \x3c!-- 修改 --\x3e\n            <el-button type="primary" icon="el-icon-edit" size=\'mini\'></el-button>\n            \x3c!-- 删除 --\x3e\n            <el-button type="danger" icon="el-icon-delete" size=\'mini\'></el-button>\n            \x3c!-- 分配角色 --\x3e\n            <el-tooltip class="item" effect="dark" content="分配角色" placement="top" :enterable="false">\n                <el-button type="warning" icon="el-icon-setting" size=\'mini\'></el-button>\n            </el-tooltip>\n        </template>\n    </el-table-column>\n</el-table>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[s._v("###12.实现用户列表分页\nA.使用表格来展示用户列表数据，可以使用分页组件完成列表分页展示数据(复制分页组件代码，在element.js中导入组件Pagination)\nB.更改组件中的绑定数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 分页导航区域 \n@size-change(pagesize改变时触发) \n@current-change(页码发生改变时触发)\n:current-page(设置当前页码)\n:page-size(设置每页的数据条数)\n:total(设置总页数) --\x3e\n            <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[1, 2, 5, 10]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n            </el-pagination>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("C.添加两个事件的事件处理函数@size-change，@current-change")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("handleSizeChange(newSize) {\n  //pagesize改变时触发，当pagesize发生改变的时候，我们应该\n  //以最新的pagesize来请求数据并展示数据\n  //   console.log(newSize)\n  this.queryInfo.pagesize = newSize;\n  //重新按照pagesize发送请求，请求最新的数据\n  this.getUserList();  \n},\nhandleCurrentChange( current ) {\n  //页码发生改变时触发当current发生改变的时候，我们应该\n  //以最新的current页码来请求数据并展示数据\n  //   console.log(current)\n  this.queryInfo.pagenum = current;\n  //重新按照pagenum发送请求，请求最新的数据\n  this.getUserList();  \n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("###13.实现更新用户状态\n当用户点击列表中的switch组件时，用户的状态应该跟随发生改变。\nA.首先监听用户点击switch组件的事件，并将作用域插槽的数据当做事件参数进行传递")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<el-switch v-model="scope.row.mg_state" @change="userStateChanged(scope.row)"></el-switch>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("B.在事件中发送请求完成状态的更改")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("async userStateChanged(row) {\n  //发送请求进行状态修改\n  const { data: res } = await this.$http.put(\n    `users/${row.id}/state/${row.mg_state}`\n  )\n  //如果返回状态为异常状态则报错并返回\n  if (res.meta.status !== 200) {\n    row.mg_state = !row.mg_state\n    return this.$message.error('修改状态失败')\n  }\n  this.$message.success('更新状态成功')\n},\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("###14.实现搜索功能\n添加数据绑定，添加搜索按钮的点击事件(当用户点击搜索按钮的时候，调用getUserList方法根据文本框内容重新请求用户列表数据)\n当我们在输入框中输入内容并点击搜索之后，会按照搜索关键字搜索，我们希望能够提供一个X删除搜索关键字并重新获取所有的用户列表数据，只需要给文本框添加clearable属性并添加clear事件，在clear事件中重新请求数据即可")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<el-col :span="7">\n    <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable @clear="getUserList">\n        <el-button slot="append" icon="el-icon-search" @click="getUserList"></el-button>\n    </el-input>\n</el-col>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("###15.实现添加用户\nA.当我们点击添加用户按钮的时候，弹出一个对话框来实现添加用户的功能，首先我们需要复制对话框组件的代码并在element.js文件中引入Dialog组件")]),s._v(" "),n("p",[s._v("B.接下来我们要为“添加用户”按钮添加点击事件，在事件中将addDialogVisible设置为true，即显示对话框")]),s._v(" "),n("p",[s._v("C.更改Dialog组件中的内容")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 对话框组件  :visible.sync(设置是否显示对话框) width(设置对话框的宽度)\n:before-close(在对话框关闭前触发的事件) --\x3e\n<el-dialog title="添加用户" :visible.sync="addDialogVisible" width="50%">\n    \x3c!-- 对话框主体区域 --\x3e\n    <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="70px">\n        <el-form-item label="用户名" prop="username">\n            <el-input v-model="addForm.username"></el-input>\n        </el-form-item>\n        <el-form-item label="密码" prop="password">\n            <el-input v-model="addForm.password"></el-input>\n        </el-form-item>\n        <el-form-item label="邮箱" prop="email">\n            <el-input v-model="addForm.email"></el-input>\n        </el-form-item>\n        <el-form-item label="电话" prop="mobile">\n            <el-input v-model="addForm.mobile"></el-input>\n        </el-form-item>\n    </el-form>\n    \x3c!-- 对话框底部区域 --\x3e\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="addDialogVisible = false">取 消</el-button>\n        <el-button type="primary" @click="addDialogVisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("p",[s._v("D.添加数据绑定和校验规则：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("data() {\n  //验证邮箱的规则\n  var checkEmail = (rule, value, cb) => {\n    const regEmail = /^\\w+@\\w+(\\.\\w+)+$/\n    if (regEmail.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new Error('请输入合法的邮箱'))\n  }\n  //验证手机号码的规则\n  var checkMobile = (rule, value, cb) => {\n    const regMobile = /^1[34578]\\d{9}$/\n    if (regMobile.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new Error('请输入合法的手机号码'))\n  }\n  return {\n    //获取查询用户信息的参数\n    queryInfo: {\n      // 查询的条件\n      query: '',\n      // 当前的页数，即页码\n      pagenum: 1,\n      // 每页显示的数据条数\n      pagesize: 2\n    },\n    //保存请求回来的用户列表数据\n    userList: [],\n    total: 0,\n    //是否显示添加用户弹出窗\n    addDialogVisible: false,\n    // 添加用户的表单数据\n    addForm: {\n      username: '',\n      password: '',\n      email: '',\n      mobile: ''\n    },\n    // 添加表单的验证规则对象\n    addFormRules: {\n      username: [\n        { required: true, message: '请输入用户名称', trigger: 'blur' },\n        {\n          min: 3,\n          max: 10,\n          message: '用户名在3~10个字符之间',\n          trigger: 'blur'\n        }\n      ],\n      password: [\n        { required: true, message: '请输入密码', trigger: 'blur' },\n        {\n          min: 6,\n          max: 15,\n          message: '用户名在6~15个字符之间',\n          trigger: 'blur'\n        }\n      ],\n      email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator:checkEmail, message: '邮箱格式不正确，请重新输入', trigger: 'blur'}\n      ],\n      mobile: [\n          { required: true, message: '请输入手机号码', trigger: 'blur' },\n          { validator:checkMobile, message: '手机号码不正确，请重新输入', trigger: 'blur'}\n      ]\n    }\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br")])]),n("p",[s._v("E.当关闭对话框时，重置表单\n给el-dialog添加@close事件，在事件中添加重置表单的代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("methods:{\n  ....\n  addDialogClosed(){\n      //对话框关闭之后，重置表达\n      this.$refs.addFormRef.resetFields();\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("F.点击对话框中的确定按钮，发送请求完成添加用户的操作\n首先给确定按钮添加点击事件，在点击事件中完成业务逻辑代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('methods:{\n  ....\n  addUser(){\n      //点击确定按钮，添加新用户\n      //调用validate进行表单验证\n      this.$refs.addFormRef.validate( async valid => {\n          if(!valid) return this.$message.error("请填写完整用户信息");\n          //发送请求完成添加用户的操作\n          const {data:res} = await this.$http.post("users",this.addForm)\n          //判断如果添加失败，就做提示\n          if (res.meta.status !== 200)\n              return this.$message.error(\'添加用户失败\')\n          //添加成功的提示\n          this.$message.success("添加用户成功")\n          //关闭对话框\n          this.addDialogVisible = false\n          //重新请求最新的数据\n          this.getUserList()\n      })\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);