(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{457:function(t,s,a){t.exports=a.p+"assets/img/image-20230219223140983.80bacd6c.png"},458:function(t,s,a){t.exports=a.p+"assets/img/image-20230219223823398.c07c797e.png"},549:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ajax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ajax"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),s("p",[t._v("1.打开Chrome浏览器\n2.Ctrl+Shift+l打开Chrome 的开发者工具\n3.切换到 Network 面板\n4.选中Doc页签\n5.刷新页面，分析客户端与服务器的通信过程")]),t._v(" "),s("h3",{attrs:{id:"网页中如何请求数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网页中如何请求数据"}},[t._v("#")]),t._v(" 网页中如何请求数据")]),t._v(" "),s("p",[t._v("数据，也是服务器对外提供的一种资源。只要是资源，必然要通过请求-处理-响应的方式进行获取。\n1.请求数据资源\n2.服务器处理这次数据请求\n3.把数据响应给客户端\n如果要在网页中请求服务器上的数据资源，则需要用到XMLHttpRequest 对象。\nXMLHttpRequest(简称xhr)是浏览器提供的js成员，通过它，可以请求服务器上的数据资源。")]),t._v(" "),s("p",[t._v("最简单的用法var xhrObj=new XMLHttpRequest()")]),t._v(" "),s("h3",{attrs:{id:"资源的请求方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源的请求方式"}},[t._v("#")]),t._v(" 资源的请求方式")]),t._v(" "),s("p",[t._v("客户端请求服务器时，请求的方式有很多种，最常见的两种请求方式分别为get和 post 请求。\nget 请求通常用于获取服务端资源（向服务器要资源）\n例如：根据URL地址，从服务器获取HTML文件、css文件、js文件、图片文件、数据资源等\npost请求通常用于向服务器提交数据（往服务器发送资源）\n例如：登录时向服务器提交的登录信息、注册时向服务器提交的注册信息、添加用户时向服务器提交的用户\n信息等各种数据提交操作")]),t._v(" "),s("h3",{attrs:{id:"什么是ajax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是ajax"}},[t._v("#")]),t._v(" 什么是Ajax")]),t._v(" "),s("p",[t._v("Ajax 的全称是Asynchronous Javascript And XML(异步JavaScript和XML)。\n通俗的理解：在网页中利用XMLHttpRequest 对象和服务器进行数据交互的方式，就是Ajax。")]),t._v(" "),s("p",[t._v("之前所学的技术，只能把网页做的更美观漂亮，或添加一些动画效果，但是，Ajax能让我们轻松实现网页与服务器之间的数据交互。")]),t._v(" "),s("h3",{attrs:{id:"了解jquery中的ajax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#了解jquery中的ajax"}},[t._v("#")]),t._v(" 了解jQuery中的Ajax")]),t._v(" "),s("p",[t._v("浏览器中提供的XMLHttpRequest 用法比较复杂，所以jQuery对XMLHttpRequest进行了封装，提供了一\n系列 Ajax相关的函数，极大地降低了 Ajax的使用难度。\njQuery 中发起 Ajax请求最常用的三个方法如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$.get（）获取数据\n$.post（）提交数据\n$.ajax（）获取和提交数据\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"get-函数的语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-函数的语法"}},[t._v("#")]),t._v(" $.get()函数的语法")]),t._v(" "),s("p",[t._v("jQuery中"),s("code",[t._v("$.get（）")]),t._v("函数的功能单一，专门用来发起get请求，从而将服务器上的资源请求到客户端来进行使用。\n"),s("code",[t._v("$.get（）")]),t._v("函数的语法如下：\n$.get(url, [data], [callback])\n其中，三个参数各自代表的含义如下：\n参数名       参数类型        是否必选         说明\nurl              string             是                要请求的资源地址")]),t._v(" "),s("p",[t._v("data          object                否            请求资源期间要携带的参数")]),t._v(" "),s("p",[t._v("callback     function         否                    请求成功时的回调函数")]),t._v(" "),s("h3",{attrs:{id:"get-发起不带参数的请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-发起不带参数的请求"}},[t._v("#")]),t._v(" $.get（）发起不带参数的请求")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("$.get（）")]),t._v("函数发起不带参数的请求时，直接提供请求的URL地址和请求成功之后的回调函数即可，示例代\n码如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$.get('http://www.liulongbin.top:3006/api/getbooks', function(res) {\n\tconsole.log(res)//这里的 res是服务器返回的数据\n})\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<script src=\"./lib/jquery.js\"><\/script>\n\n<button id=\"btnGET\">发起不带参数的GET请求</button>\n<script>\n$(function (){//jquery的入口函数\n\t$('#btnGET').on('click',function (){\n\t\t$·get('http://www.liulongbin.top:3006/api/getbooks',function(res){\n\t\t\tconsole.log(res)//打印请求得到的数据\n\t\t})\n\t})\n})\n<\/script>\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[s("img",{attrs:{src:a(457),alt:"image-20230219223140983"}})]),t._v(" "),s("h3",{attrs:{id:"get-发起带参数的请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-发起带参数的请求"}},[t._v("#")]),t._v(" $.get（)发起带参数的请求")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("$.get（）")]),t._v("函数发起带参数的请求时，示例代码如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$.get('http://www.liulongbin.top:3006/api/getbooks', { id: 1 }, function(res) {\n\tconsole.log(res)\n})\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("学到P5为止")]),t._v(" "),s("p",[t._v("和P39-41")]),t._v(" "),s("h1",{attrs:{id:"xmlhttprequest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xmlhttprequest"}},[t._v("#")]),t._v(" XMLHttpRequest")]),t._v(" "),s("p",[t._v("XMLHttpRequest（简称xhr)是浏览器提供的Javascript对象，通过它，可以请求服务器上的数据资源。之\n前所学的jQuery 中的 Ajax函数，就是基于xhr对象封装出来的。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(458),alt:"image-20230219223823398"}})]),t._v(" "),s("h3",{attrs:{id:"使用xhr发起get请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用xhr发起get请求"}},[t._v("#")]),t._v(" 使用xhr发起GET请求")]),t._v(" "),s("p",[t._v("步骤：\n①创建xhr 对象\n②调用xhr.open(函数)        创建请求\n③调用xhr.send(函数)         发起请求\n④监听xhr.onreadystatechange事件          拿到服务器响应回来的数据")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 1.创建 XHR 对象\nvar xhr = new XMLHttpRequest ()\n//2.调用open 函数，指定 请求方式 与 URL地址\nxhr.open('GET','http://www.liulongbin.top:3006/api/getbooks')\n// 3.调用send 函数，发起 Ajax 请求\nxhr.send()\n//4.监听 onreadystatechange事件\nxhr.onreadystatechange = function() (\n\t// 4.1监听 xhr对象的请求状态 readystate；与服务器响应的状态status\n\tif (xhr.readyState === 4 && xhr.status === 200) (//固定写法，表示数据获取成功\n\t\t//4.2打印服务器响应回来的数据\n\t\tconsole.log(xhr.responseText)//打印的status是数据的一个属性，与上面的服务器状态不是同一个。\n\t}\n}\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h3",{attrs:{id:"了解xhr对象的readystate属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#了解xhr对象的readystate属性"}},[t._v("#")]),t._v(" 了解xhr对象的readyState属性")]),t._v(" "),s("p",[t._v("XMLHttpRequest对象的readyState属性，用来表示当前Ajax请求所处的状态。每个Ajax请求必然处于以\n下状态中的一个：\n值                           状态                                     描述\n0                          UNSENT                    XMLHttpRequest对象已被创建，但尚未调用 open方法。\n1                         OPENED                    open0方法已经被调用。\n2                   HEADERS RECEIVED       send（方法已经被调用，响应头也已经被接收。\n3                         LOADING                   数据接收中，此时response属性中已经包含部分数据。\n4                          DONE                        Ajax 请求完成，这意味着数据传输已经彻底完成或失败。")]),t._v(" "),s("h3",{attrs:{id:"使用xhr发起带参数的get请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用xhr发起带参数的get请求"}},[t._v("#")]),t._v(" 使用xhr发起带参数的GET请求")]),t._v(" "),s("p",[t._v("使用 xhr 对象发起带参数的GET请求时，只需在调用xhr.open 期间，为URL地址指定参数即可：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//..省略不必要的代码\nxhr.open('GET','http://www.liulongbin.top:3006/api/getbooks?id=1')//直接加？id=1\n//..省略不必要的代码\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("这种在URL地址后面拼接的参数，叫做查询字符串。")])])}),[],!1,null,null,null);s.default=n.exports}}]);