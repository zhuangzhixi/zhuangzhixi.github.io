(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{594:function(s,n,a){"use strict";a.r(n);var e=a(14),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("###今日目标\n1.完成商品分类")]),s._v(" "),n("p",[s._v("2.完成参数管理")]),s._v(" "),n("p",[s._v("###1.商品分类\n####A.新建分支goods_cate\n新建分支goods_cate并推送到码云\ngit checkout -b goods_cate\ngit push -u origin goods_cate\n####B.创建子级路由\n创建categories子级路由组件并设置路由规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import Cate from \'./components/goods/Cate.vue\'\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n    { path: "/welcome", component: Welcome },\n    { path: "/users", component: Users },\n    { path: "/rights", component: Rights },\n    { path: "/roles", component: Roles  },\n    { path: "/categories", component: Cate  }\n]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("####C.添加组件基本布局\n在Cate.vue组件中添加面包屑导航以及卡片视图中的添加分类按钮")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div>\n        <h3>商品分类</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品分类</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 添加分类按钮区域 --\x3e\n            <el-row>\n                <el-col>\n                    <el-button type="primary">添加分类</el-button>\n                </el-col>\n            </el-row>\n            \x3c!-- 分类表格  --\x3e\n\n            \x3c!-- 分页 --\x3e\n        </el-card>\n    </div>\n</template>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("####D.请求分类数据\n请求分类数据并将数据保存在data中")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<script>\nexport default {\n  data() {\n    return {\n      // 商品分类数据列表\n      cateList: [],\n      //查询分类数据的条件\n      queryInfo: {\n        type: 3,\n        pagenum: 1,\n        pagesize: 5\n      },\n      //保存总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getCateList()\n  },\n  methods: {\n    async getCateList() {\n      //获取商品分类数据\n      const { data: res } = await this.$http.get('categories', {\n        params: queryInfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取商品列表数据失败')\n      }\n      //将数据列表赋值给cateList\n      this.cateList = res.data.result\n      //保存总数据条数\n      this.total = res.data.total\n      //   console.log(res.data);\n    }\n  }\n}\n<\/script>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("p",[s._v("####E.使用插件展示数据\n使用第三方插件vue-table-with-tree-grid展示分类数据\n1).在vue 控制台中点击依赖->安装依赖->运行依赖->输入vue-table-with-tree-gird->点击安装\n2).打开main.js，导入vue-table-with-tree-grid\nimport TreeTable from 'vue-table-with-tree-grid'\n.....\nVue.config.productionTip = false")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("//全局注册组件\nVue.component('tree-table', TreeTable)\n3).使用组件展示分类数据\n")])])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 分类表格\n:data(设置数据源) :columns(设置表格中列配置信息) :selection-type(是否有复选框)\n:expand-type(是否展开数据) show-index(是否设置索引列) index-text(设置索引列头)\nborder(是否添加纵向边框) :show-row-hover(是否鼠标悬停高亮) --\x3e\n<tree-table :data="cateList" :columns="columns" :selection-type="false"\n:expand-type="false" show-index index-text="#" border :show-row-hover="false">\n\n</tree-table>\n\n在数据中添加columns:\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'}\n]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("####F.自定义数据列\n使用vue-table-with-tree-grid定义模板列并添加自定义列")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//先在columns中添加一个列\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'},\n    //type:\'template\'(将该列设置为模板列)，template:\'isok\'(设置该列模板的名称为isok)\n    {label:\'是否有效\',prop:\'\',type:\'template\',template:\'isok\'},\n    {label:\'排序\',prop:\'\',type:\'template\',template:\'order\'},\n    {label:\'操作\',prop:\'\',type:\'template\',template:\'opt\'}\n]\n\n\x3c!-- 是否有效区域， 设置对应的模板列： slot="isok"(与columns中设置的template一致) --\x3e\n<template slot="isok" slot-scope="scope">\n  <i class="el-icon-success" v-if="scope.row.cat_deleted === false" style="color:lightgreen"></i>\n  <i class="el-icon-error" v-else style="color:red"></i>\n</template>\n\x3c!-- 排序 --\x3e\n<template slot="order" slot-scope="scope">\n  <el-tag size="mini" v-if="scope.row.cat_level===0">一级</el-tag>\n  <el-tag size="mini" type="success" v-else-if="scope.row.cat_level===1">二级</el-tag>\n  <el-tag size="mini" type="warning" v-else>三级</el-tag>\n</template>\n\n\x3c!-- 操作 --\x3e\n<template slot="opt" slot-scope="scope">\n  <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n  <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button> \n</template>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("####G.完成分页功能")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 分页 --\x3e\n<el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n</el-pagination>\n\n//添加对应的事件函数\nmethods:{\n  .......\n  handleSizeChange(newSize){\n    //当pagesize发生改变时触发\n    this.queryInfo.pagesize = newSize;\n    this.getCateList();\n  },\n  handleCurrentChange(newPage){\n    //当pagenum发生改变时触发\n    this.queryInfo.pagenum = newPage;\n    this.getCateList();\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("####H.完成添加分类")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('......\n\x3c!-- 添加分类按钮区域 --\x3e\n<el-row>\n  <el-col>\n    <el-button type="primary" @click="showAddCateDialog">添加分类</el-button>\n  </el-col>\n</el-row>\n......\n\x3c!-- 添加分类对话框 --\x3e\n<el-dialog title="添加分类" :visible.sync="addCateDialogVisible" width="50%"  @close="addCateDialogClosed">\n  \x3c!-- 添加分类表单 --\x3e\n  <el-form :model="addCateForm" :rules="addCateFormRules" ref="addCateFormRuleForm" label-width="100px">\n    <el-form-item label="分类名称" prop="cat_name">\n      <el-input v-model="addCateForm.cat_name"></el-input>\n    </el-form-item>\n    <el-form-item label="父级分类" prop="cat_pid">\n      \n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="addCateDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="addCate">确 定</el-button>\n  </span>\n</el-dialog>\n\n\n//用来显示或隐藏添加分类对话框\naddCateDialogVisible: false,\n//添加分类的表单数据对象\naddCateForm:{\n  //分类名称\n  cat_name:\'\',\n  //添加分类的父级id，0则表示父级为0.添加一级分类\n  cat_pid:0,\n  //添加分类的等级，0则表示添加一级分类\n  cat_level:0\n},\n//添加分类校验规则\naddCateFormRules:{\n  //验证规则\n  cat_name:[ {required:true , message:\'请输入分类名称\',trigger:\'blur\'} ]\n},\n//保存1,2级父级分类的列表\nparentCateList:[]\n.......\nshowAddCateDialog() {\n  //调用getParentCateList获取分类列表\n  this.getParentCateList()\n  //显示添加分类对话框\n  this.addCateDialogVisible = true\n},\nasync getParentCateList(){\n  //获取父级分类数据列表\n  const { data: res } = await this.$http.get(\'categories\', {\n    params: {type:2}\n  })\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'获取商品分类列表数据失败\')\n  }\n  this.parentCateList = res.data\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br")])]),n("p",[s._v("添加级联菜单显示父级分类\n先导入Cascader组件，并注册\n然后添加使用级联菜单组件：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<el-form-item label=\"父级分类\" prop=\"cat_pid\">\n  \x3c!-- expandTrigger='hover'(鼠标悬停触发级联) v-model(设置级联菜单绑定数据) :options(指定级联菜单数据源)  :props(用来配置数据显示的规则) \n  clearable(提供“X”号完成删除文本功能) change-on-select(是否可以选中任意一级的菜单) --\x3e\n  <el-cascader expandTrigger='hover' v-model=\"selectedKeys\" :options=\"parentCateList\" :props=\"cascaderProps\" @change=\"parentCateChange\" clearable change-on-select></el-cascader>\n</el-form-item>\n\n添加数据\n//配置级联菜单中数据如何展示\ncascaderProps:{\n  value:'cat_id',\n  label:'cat_name',\n  children:'children',\n  expandTrigger:'hover'\n},\n//绑定用户选择的分类值\nselectedKeys:[]\n.....\nmethods:{\n  .....\n  parentCateChange(){\n    //级联菜单中选择项发生变化时触发\n    console.log(this.selectedKeys)\n    //如果用户选择了父级分类\n    if(this.selectedKeys.length > 0){\n      //则将数组中的最后一项设置为父级分类\n      this.addCateForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]\n      //level也要跟着发生变化\n      this.addCateForm.cat_level = this.selectedKeys.length\n      return\n    }else{\n      this.addCateForm.cat_pid = 0\n      this.addCateForm.cat_level = 0\n      return\n    }\n  },\n  addCateDialogClosed(){\n    //当关闭添加分类对话框时，重置表单\n    this.$refs.addCateFormRef.resetFields()\n    this.selectedKeys = [];\n    this.addCateForm.cat_pid = 0\n    this.addCateForm.cat_level = 0\n  },\n  addCate() {\n    //点击确定，完成添加分类\n    console.log(this.addCateForm)\n    this.$refs.addCateFormRef.validate(async valid => {\n      if (!valid) return\n      //发送请求完成添加分类\n      const { data: res } = await this.$http.post(\n        'categories',\n        this.addCateForm\n      )\n\n      if (res.meta.status !== 201) {\n        return this.$message.error('添加分类失败')\n      }\n\n      this.$message.success('添加分类成功')\n      this.getCateList()\n      this.addCateDialogVisible = false\n    })\n  }\n}\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br")])]),n("p",[s._v("####I.推送代码\n制作完添加分类之后，将代码提交到仓库，推送到码云,将goods_cate分支合并到master\ngit add .\ngit commit -m '完成商品分类'\ngit push\ngit checkout master\ngit merge goods_cate")]),s._v(" "),n("p",[s._v("###2.参数管理\n只允许给三级分类内容设置参数，参数分为动态参数和静态参数属性\n####A.添加子级组件\n添加Params.vue子组件，并在router.js中引入该组件并设置路由规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import Params from \'./components/goods/Params.vue\'\n......\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  }\n]\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("####B.完成组件基本布局\n完成Params.vue组件的基本布局\n其中警告提示信息使用了el-alert，在element.js引入该组件并注册")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div>\n        <h3>分类参数</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>分类参数</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 警告区域 :closable="false"(是否展示“X”号) show-icon(显示图标) --\x3e\n            <el-alert title="注意：只允许为第三级分类设置相关参数" type="warning" :closable="false" show-icon>\n            </el-alert>\n\n            \x3c!-- 选择商品分类区域 --\x3e\n            <el-row class="cat_opt">\n                <el-col>\n                    <span>选择商品分类：</span>\n                    \x3c!-- 选择商品分类的级联选择框 --\x3e\n                </el-col>\n                <el-col></el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("####C.完成级联选择框\n完成商品分类级联选择框")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\x3c!-- 选择商品分类区域 --\x3e\n<el-row class=\"cat_opt\">\n    <el-col>\n        <span>选择商品分类：</span>\n        \x3c!-- 选择商品分类的级联选择框 --\x3e\n        <el-cascader expandTrigger='hover' v-model=\"selectedCateKeys\" :options=\"cateList\" :props=\"cateProps\" @change=\"handleChange\" clearable></el-cascader>\n    </el-col>\n    <el-col></el-col>\n</el-row>\n......\n<script>\nexport default {\n  data() {\n    return {\n        //分类列表\n        cateList:[],\n        //用户在级联下拉菜单中选中的分类id\n        selectedCateKeys:[],\n        //配置级联菜单中数据如何展示\n        cateProps: {\n            value: 'cat_id',\n            label: 'cat_name',\n            children: 'children'\n        }\n    }\n  },\n  created() {\n      this.getCateList()\n  },\n  methods: {\n      async getCateList(){\n        //获取所有的商品分类列表\n        const { data: res } = await this.$http.get('categories')\n\n        if (res.meta.status !== 200) {\n            return this.$message.error('获取分类数据失败')\n        }\n        //将数据列表赋值给cateList\n        this.cateList = res.data\n        // //保存总数据条数\n        // this.total = res.data.total\n        //   console.log(res.data);\n      },\n      handleChange(){\n        //当用户在级联菜单中选择内容改变时触发\n        console.log(this.selectedCateKeys);\n      }\n  }\n}\n<\/script>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br")])]),n("p",[s._v("####D.展示参数\n展示动态参数数据以及静态属性数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- tab页签区域 --\x3e\n<el-tabs v-model="activeName" @tab-click="handleTabClick">\n  \x3c!-- 添加动态参数的面板 将标签页改为many --\x3e\n  <el-tab-pane label="动态参数" name="many">\n    <el-button size="mini" type="primary" :disabled="isButtonDisabled">添加参数</el-button>\n    \x3c!-- 动态参数表格 --\x3e\n    <el-table :data="manyTableData" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="参数名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n  \x3c!-- 添加静态属性的面板 将标签页改为only --\x3e\n  <el-tab-pane label="静态属性" name="only">\n    <el-button size="mini" type="primary" :disabled="isButtonDisabled">添加属性</el-button>\n    \x3c!-- 静态属性表格 --\x3e\n    <el-table :data="onlyTableData" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="属性名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n\n</el-tabs>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      ......\n      //tab页签激活显示的页签项\n      activeName: \'many\',\n      //用来保存动态参数数据\n      manyTableData: [],\n      //用来保存静态属性数据\n      onlyTableData: []  \n    }\n  methods: {\n    .......\n    async handleChange() {\n      //当用户在级联菜单中选择内容改变时触发\n      console.log(this.selectedCateKeys)\n      //发送请求，根据用户选择的三级分类和面板获取参数数据\n      const { data: res } = await this.$http.get(\n        `categories/${this.cateId}/attributes`,\n        { params: { sel: this.activeName } }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数列表数据失败\')\n      }\n\n      console.log(res.data)\n      if (this.activeName === \'many\') {\n        //获取的是动态参数\n        this.manyTableData = res.data\n      } else if (this.activeName === \'only\') {\n        //获取的是静态属性\n        this.onlyTableData = res.data\n      }\n    },\n    handleTabClick() {\n      console.log(this.activeName)\n      this.handleChange()\n    }\n  },\n  computed: {\n    //添加计算属性用来获取按钮禁用与否\n    isButtonDisabled() {\n      return this.selectedCateKeys.length !== 3\n    },\n    //获取选中的三级分类id\n    cateId() {\n      if (this.selectedCateKeys.length === 3) {\n        return this.selectedCateKeys[this.selectedCateKeys.length - 1]\n      }\n      return null\n    }\n  }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br")])]),n("p",[s._v("####E.添加参数\n完成添加参数或属性")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 添加参数或属性对话框 --\x3e\n<el-dialog :title="\'添加\'+titleText" :visible.sync="addDialogVisible" width="50%" @close="addDialogClosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="100px">\n    <el-form-item :label="titleText" prop="attr_name">\n      <el-input v-model="addForm.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="addDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="addParams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制添加参数.属性对话框的显示或隐藏\n      addDialogVisible: false,\n      //添加参数的表单数据对象\n      addForm: {\n        attr_name: \'\'\n      },\n      //添加表单验证规则\n      addFormRules: {\n        attr_name: [{ required: true, message: \'请输入名称\', trigger: \'blur\' }]\n      }\n    }\n  },methods: {\n    .......\n    addParams() {\n      //当用户点击对话框中的确定时，校验表单\n      this.$refs.addFormRef.validate(async valid => {\n        //校验不通过，return\n        if (!valid) return\n        //校验通过，发送请求完成添加参数或者属性\n        const { data: res } = this.$http.post(`categories/${this.cateId}/attributes`,\n          { \n            attr_name: this.addForm.attr_name, \n            attr_sel: this.activeName,\n            attr_vals: "a,b,c" \n          }\n        )\n\n        console.log(res)\n        if (res.meta.status !== 201) {\n          return this.$message.error(\'添加\' + this.titleText + \'数据失败\')\n        }\n        this.$message.success(\'添加\' + this.titleText + \'数据成功\')\n        this.addDialogVisible = false\n        this.getCateList()\n      })\n    }\n  }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br")])]),n("p",[s._v("####F.编辑参数\n完成编辑参数或属性")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 修改参数或属性对话框 --\x3e\n<el-dialog :title="\'修改\'+titleText" :visible.sync="editDialogVisible" width="50%" @close="editDialogClosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="editForm" :rules="editFormRules" ref="editFormRef" label-width="100px">\n    <el-form-item :label="titleText" prop="attr_name">\n      <el-input v-model="editForm.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="editDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="editParams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制修改参数.属性对话框的显示或隐藏\n      editDialogVisible:false,\n      //修改参数.属性对话框中的表单\n      editForm:{\n        attr_name:\'\'\n      },\n      //修改表单的验证规则\n      editFormRules:{\n        attr_name:[\n          { required: true, message: \'请输入名称\', trigger: \'blur\' }\n        ]\n      }\n    }\n  },methods: {\n    .......\n    async showEditDialog(attr_id){\n      //发起请求获取需要修改的那个参数数据\n      const {data:res} = await this.$http.get(`categories/${this.cateId}/attributes/${attr_id}`,\n      {params:{ attr_sel:this.activeName }})\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数数据失败\')\n      }\n      this.editForm = res.data;\n      //显示修改参数.属性对话框\n      this.editDialogVisible = true;\n    },\n    editDialogClosed(){\n      //当关闭修改参数.属性对话框时\n      this.$refs.editFormRef.resetFields()\n    },\n    editParams(){\n      //验证表单\n      this.$refs.editFormRef.validate(async valid => {\n        if(!valid) return;\n\n        //发送请求完成修改\n        const {data:res} = await this.$http.put(`categories/${this.cateId}/attributes/${this.editForm.attr_id}`,\n        {attr_name:this.editForm.attr_name,attr_sel:this.activeName})\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取参数数据失败\')\n        }\n        this.$message.success(\'修改\' + this.titleText + \'数据成功\')\n        this.editDialogVisible = false\n        this.handleChange();\n      })\n    }\n  }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br")])]),n("p",[s._v("####G.删除参数\n删除参数或属性")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("给两个删除按钮添加事件\n<el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removeParams(scope.row.attr_id)\">删除</el-button>\n<el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removeParams(scope.row.attr_id)\">删除</el-button>\n\n添加对应的事件处理函数\nasync removeParams(attr_id){\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmResult = await this.$confirm(\n    '请问是否要删除该'+this.titleText,\n    '删除提示',\n    {\n      confirmButtonText: '确认删除',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmResult 为'confirm'\n  //如果用户点击取消, 则confirmResult获取的就是catch的错误消息'cancel'\n  if (confirmResult != 'confirm') {\n    return this.$message.info('已经取消删除')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`categories/${this.cateId}/attributes/${attr_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error('删除参数数据失败')\n  }\n  this.$message.success('删除' + this.titleText + '数据成功')\n  this.handleChange()\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);